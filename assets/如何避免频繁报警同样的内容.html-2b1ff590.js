const e=JSON.parse('{"key":"v-5d9b934f","path":"/coding/%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E9%A2%91%E7%B9%81%E6%8A%A5%E8%AD%A6%E5%90%8C%E6%A0%B7%E7%9A%84%E5%86%85%E5%AE%B9.html","title":"如何避免频繁报警同样的内容","lang":"zh-CN","frontmatter":{"title":"如何避免频繁报警同样的内容","date":"2023-11-22T00:00:00.000Z","sidebar":false,"category":["编程"],"tag":["Go"],"description":"背景 最近晚上总是频繁收到同一个工单的失败告警信息，很烦。 解决方法 本质上是需要对告警做一个收敛，如果是同一个工单同一个节点的失败告警，应该只发送一次就可以了。 我想到了 go 自带的同步原语 golang/sync/singleflight，它提供了两个用于抑制相同处理的方法：","head":[["meta",{"property":"og:url","content":"https://www.zhangjiulong.com/coding/%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E9%A2%91%E7%B9%81%E6%8A%A5%E8%AD%A6%E5%90%8C%E6%A0%B7%E7%9A%84%E5%86%85%E5%AE%B9.html"}],["meta",{"property":"og:site_name","content":"井久"}],["meta",{"property":"og:title","content":"如何避免频繁报警同样的内容"}],["meta",{"property":"og:description","content":"背景 最近晚上总是频繁收到同一个工单的失败告警信息，很烦。 解决方法 本质上是需要对告警做一个收敛，如果是同一个工单同一个节点的失败告警，应该只发送一次就可以了。 我想到了 go 自带的同步原语 golang/sync/singleflight，它提供了两个用于抑制相同处理的方法："}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-11-22T12:34:07.000Z"}],["meta",{"property":"article:author","content":"kowloonzh"}],["meta",{"property":"article:tag","content":"Go"}],["meta",{"property":"article:published_time","content":"2023-11-22T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-11-22T12:34:07.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"如何避免频繁报警同样的内容\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-11-22T00:00:00.000Z\\",\\"dateModified\\":\\"2023-11-22T12:34:07.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"kowloonzh\\",\\"url\\":\\"https://www.zhangjiulong.com\\"}]}"]]},"headers":[{"level":2,"title":"背景","slug":"背景","link":"#背景","children":[]},{"level":2,"title":"解决方法","slug":"解决方法","link":"#解决方法","children":[]},{"level":2,"title":"实现","slug":"实现","link":"#实现","children":[]}],"git":{"createdTime":1700656447000,"updatedTime":1700656447000,"contributors":[{"name":"kowloonzh","email":"kowloonzh@gmail.com","commits":1}]},"readingTime":{"minutes":0.78,"words":235},"filePathRelative":"coding/如何避免频繁报警同样的内容.md","localizedDate":"2023年11月22日","excerpt":"<h2> 背景</h2>\\n<p>最近晚上总是频繁收到同一个工单的失败告警信息，很烦。</p>\\n<h2> 解决方法</h2>\\n<p>本质上是需要对告警做一个收敛，如果是同一个工单同一个节点的失败告警，应该只发送一次就可以了。</p>\\n<p>我想到了 go 自带的同步原语 <a href=\\"https://github.com/golang/sync/blob/cd5d95a43a6e21273425c7ae415d3df9ea832eeb/singleflight/singleflight.go#L33\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">golang/sync/singleflight</a>，它提供了两个用于抑制相同处理的方法：</p>","autoDesc":true}');export{e as data};
